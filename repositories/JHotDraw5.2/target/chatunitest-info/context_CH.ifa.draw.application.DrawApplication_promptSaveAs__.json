{
  "targetClass": "CH.ifa.draw.application.DrawApplication",
  "targetMethod": "promptSaveAs()",
  "dependentFields": {
    "CH.ifa.draw.application.DrawApplication": "private Drawing              fDrawing;\nprivate Tool                 fTool;\nprivate Iconkit              fIconkit;\nprivate JTextField           fStatusLine;\nprivate StandardDrawingView  fView;\nprivate ToolButton           fDefaultToolButton;\nprivate ToolButton           fSelectedToolButton;\nprivate String               fApplicationName;\nprivate String               fDrawingFilename;\nprivate StorageFormatManager fStorageFormatManager;\nstatic String                fgUntitled = \"untitled\";\nprivate static final String fgDrawPath = \"/CH/ifa/draw/\";\npublic static final String IMAGES = fgDrawPath + \"images/\";\npublic static final int    FILE_MENU = 0;\npublic static final int    EDIT_MENU = 1;\npublic static final int    ALIGNMENT_MENU = 2;\npublic static final int    ATTRIBUTES_MENU = 3;",
    "CH.ifa.draw.util.StorageFormatManager": "private Vector myStorageFormats;\nprivate StorageFormat myDefaultStorageFormat;"
  },
  "dependentMethods": {
    "CH.ifa.draw.application.DrawApplication": "public StorageFormatManager getStorageFormatManager(){}\npublic void showStatus(String string){}\nprotected void saveDrawing(StorageFormat storeFormat, String file){}\npublic void toolDone(){}",
    "CH.ifa.draw.util.StorageFormatManager": "public void registerFileFilters(JFileChooser fileChooser){}\npublic StorageFormat findStorageFormat(FileFilter findFileFilter){}"
  },
  "dependentMethodBodies": {
    "CH.ifa.draw.application.DrawApplication": "* Return the StorageFormatManager for this application.The StorageFormatManager is\n\t * used when storing and restoring Drawing from the file system.\n\t \npublic StorageFormatManager getStorageFormatManager() {\n        return fStorageFormatManager;\n    }\n\n     * Shows a status message.\n     * @see DrawingEditor\n     \npublic void showStatus(String string) {\n        fStatusLine.setText(string);\n    }\n\n     * Save a Drawing in a file\n     \nprotected void saveDrawing(StorageFormat storeFormat, String file) {\n        try {\n        \tsetDrawingTitle(storeFormat.store(file, drawing()));\n        }\n        catch (IOException e) {\n            showStatus(e.toString());\n        }\n    }\n\n     * Sets the default tool of the editor.\n     * @see DrawingEditor\n     \npublic void toolDone() {\n        if (fDefaultToolButton != null) {\n            setTool(fDefaultToolButton.tool(), fDefaultToolButton.name());\n            setSelected(fDefaultToolButton);\n        }\n    }",
    "CH.ifa.draw.util.StorageFormatManager": "* Register all FileFilters supported by StorageFormats\n\t *\n\t * @param fileChooser javax.swing.JFileChooser to which FileFilters are added\n\t \npublic void registerFileFilters(JFileChooser fileChooser) {\n\t\tIterator formatsIterator = myStorageFormats.iterator();\n\t\twhile (formatsIterator.hasNext()) {\n\t\t\tfileChooser.addChoosableFileFilter(((StorageFormat)formatsIterator.next()).getFileFilter());\n\t\t}\n\n\t\t// set a current activated file filter if a default storage Format has been defined\n\t\tif (getDefaultStorageFormat() != null) {\n\t\t\tfileChooser.setFileFilter(getDefaultStorageFormat().getFileFilter());\n\t\t}\n\t}\n\n\t * Find a StorageFormat that can be used according to a FileFilter to store a Drawing\n\t * in a file or restore it from a file respectively.\n\t *\n\t * @param findFileFilter FileFilter used to identify a StorageFormat\n\t * @return StorageFormat, if a matching file extension could be found, false otherwise\n\t \npublic StorageFormat findStorageFormat(FileFilter findFileFilter) {\n\t\tIterator formatsIterator = myStorageFormats.iterator();\n\t\tStorageFormat currentStorageFormat = null;\n\t\twhile (formatsIterator.hasNext()) {\n\t\t\tcurrentStorageFormat = (StorageFormat)formatsIterator.next();\n\t\t\tif (currentStorageFormat.getFileFilter().equals(findFileFilter)) {\n\t\t\t\treturn currentStorageFormat;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn null;\n\t}"
  }
}