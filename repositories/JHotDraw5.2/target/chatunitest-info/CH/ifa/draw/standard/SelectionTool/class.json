{
  "fullClassName": "CH.ifa.draw.standard.SelectionTool",
  "className": "SelectionTool",
  "index": 139,
  "modifier": "[public ]",
  "extend": "[AbstractTool]",
  "implement": "[]",
  "packageName": "CH.ifa.draw.standard",
  "packageDeclaration": "package CH.ifa.draw.standard;",
  "classSignature": "public class SelectionTool",
  "hasConstructor": true,
  "isPublic": true,
  "isInterface": false,
  "isAbstract": false,
  "imports": [
    "import java.awt.*;",
    "import java.awt.event.MouseEvent;",
    "import java.util.Vector;",
    "import CH.ifa.draw.framework.*;"
  ],
  "fields": [
    "private Tool fChild = null;"
  ],
  "superClasses": [
    "AbstractTool"
  ],
  "implementedTypes": [],
  "methodSigs": {
    "mouseDown(MouseEvent, int, int)": "0",
    "mouseDrag(MouseEvent, int, int)": "1",
    "mouseUp(MouseEvent, int, int)": "2",
    "createHandleTracker(DrawingView, Handle)": "3",
    "createDragTracker(DrawingView, Figure)": "4",
    "createAreaTracker(DrawingView)": "5",
    "SelectionTool(DrawingView)": "6"
  },
  "methodsBrief": [
    "public void mouseDown(MouseEvent e, int x, int y)\r\n   {}",
    "public void mouseDrag(MouseEvent e, int x, int y){}",
    "public void mouseUp(MouseEvent e, int x, int y){}",
    "protected Tool createHandleTracker(DrawingView view, Handle handle){}",
    "protected Tool createDragTracker(DrawingView view, Figure f){}",
    "protected Tool createAreaTracker(DrawingView view){}",
    "public SelectionTool(DrawingView view){}"
  ],
  "constructorSigs": [
    "SelectionTool(DrawingView)"
  ],
  "constructorBrief": [
    "public SelectionTool(DrawingView view){}"
  ],
  "getterSetterSigs": [],
  "getterSetterBrief": [],
  "constructorDeps": {
    "CH.ifa.draw.framework.DrawingView": []
  },
  "compilationUnitCode": "/*\n * @(#)SelectionTool.java 5.2\n *\n */\npackage CH.ifa.draw.standard;\n\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.util.Vector;\nimport CH.ifa.draw.framework.*;\n\n/**\n * Tool to select and manipulate figures.\n * A selection tool is in one of three states, e.g., background\n * selection, figure selection, handle manipulation. The different\n * states are handled by different child tools.\n * <hr>\n * <b>Design Patterns</b><P>\n * <img src=\"images/red-ball-small.gif\" width=6 height=6 alt=\" o \">\n * <b><a href=../pattlets/sld032.htm>State</a></b><br>\n * SelectionTool is the StateContext and child is the State.\n * The SelectionTool delegates state specific\n * behavior to its current child tool.\n * <hr>\n */\npublic class SelectionTool extends AbstractTool {\n\n    private Tool fChild = null;\n\n    public SelectionTool(DrawingView view) {\n        super(view);\n    }\n\n    /**\n     * Handles mouse down events and starts the corresponding tracker.\n     */\n    public void mouseDown(MouseEvent e, int x, int y) {\n        // on MS-Windows NT: AWT generates additional mouse down events\n        // when the left button is down && right button is clicked.\n        // To avoid dead locks we ignore such events\n        if (fChild != null)\n            return;\n        view().freezeView();\n        Handle handle = view().findHandle(e.getX(), e.getY());\n        if (handle != null) {\n            fChild = createHandleTracker(view(), handle);\n        } else {\n            Figure figure = drawing().findFigure(e.getX(), e.getY());\n            if (figure != null) {\n                fChild = createDragTracker(view(), figure);\n            } else {\n                if (!e.isShiftDown()) {\n                    view().clearSelection();\n                }\n                fChild = createAreaTracker(view());\n            }\n        }\n        fChild.mouseDown(e, x, y);\n    }\n\n    /**\n     * Handles mouse drag events. The events are forwarded to the\n     * current tracker.\n     */\n    public void mouseDrag(MouseEvent e, int x, int y) {\n        if (// JDK1.1 doesn't guarantee mouseDown, mouseDrag, mouseUp\n        fChild != null)\n            fChild.mouseDrag(e, x, y);\n    }\n\n    /**\n     * Handles mouse up events. The events are forwarded to the\n     * current tracker.\n     */\n    public void mouseUp(MouseEvent e, int x, int y) {\n        view().unfreezeView();\n        if (// JDK1.1 doesn't guarantee mouseDown, mouseDrag, mouseUp\n        fChild != null)\n            fChild.mouseUp(e, x, y);\n        fChild = null;\n    }\n\n    /**\n     * Factory method to create a Handle tracker. It is used to track a handle.\n     */\n    protected Tool createHandleTracker(DrawingView view, Handle handle) {\n        return new HandleTracker(view, handle);\n    }\n\n    /**\n     * Factory method to create a Drag tracker. It is used to drag a figure.\n     */\n    protected Tool createDragTracker(DrawingView view, Figure f) {\n        return new DragTracker(view, f);\n    }\n\n    /**\n     * Factory method to create an area tracker. It is used to select an\n     * area.\n     */\n    protected Tool createAreaTracker(DrawingView view) {\n        return new SelectAreaTracker(view);\n    }\n}\n",
  "classDeclarationCode": "/**\n * Tool to select and manipulate figures.\n * A selection tool is in one of three states, e.g., background\n * selection, figure selection, handle manipulation. The different\n * states are handled by different child tools.\n * <hr>\n * <b>Design Patterns</b><P>\n * <img src=\"images/red-ball-small.gif\" width=6 height=6 alt=\" o \">\n * <b><a href=../pattlets/sld032.htm>State</a></b><br>\n * SelectionTool is the StateContext and child is the State.\n * The SelectionTool delegates state specific\n * behavior to its current child tool.\n * <hr>\n */\npublic class SelectionTool extends AbstractTool {\n\n    private Tool fChild = null;\n\n    public SelectionTool(DrawingView view) {\n        super(view);\n    }\n\n    /**\n     * Handles mouse down events and starts the corresponding tracker.\n     */\n    public void mouseDown(MouseEvent e, int x, int y) {\n        // on MS-Windows NT: AWT generates additional mouse down events\n        // when the left button is down && right button is clicked.\n        // To avoid dead locks we ignore such events\n        if (fChild != null)\n            return;\n        view().freezeView();\n        Handle handle = view().findHandle(e.getX(), e.getY());\n        if (handle != null) {\n            fChild = createHandleTracker(view(), handle);\n        } else {\n            Figure figure = drawing().findFigure(e.getX(), e.getY());\n            if (figure != null) {\n                fChild = createDragTracker(view(), figure);\n            } else {\n                if (!e.isShiftDown()) {\n                    view().clearSelection();\n                }\n                fChild = createAreaTracker(view());\n            }\n        }\n        fChild.mouseDown(e, x, y);\n    }\n\n    /**\n     * Handles mouse drag events. The events are forwarded to the\n     * current tracker.\n     */\n    public void mouseDrag(MouseEvent e, int x, int y) {\n        if (// JDK1.1 doesn't guarantee mouseDown, mouseDrag, mouseUp\n        fChild != null)\n            fChild.mouseDrag(e, x, y);\n    }\n\n    /**\n     * Handles mouse up events. The events are forwarded to the\n     * current tracker.\n     */\n    public void mouseUp(MouseEvent e, int x, int y) {\n        view().unfreezeView();\n        if (// JDK1.1 doesn't guarantee mouseDown, mouseDrag, mouseUp\n        fChild != null)\n            fChild.mouseUp(e, x, y);\n        fChild = null;\n    }\n\n    /**\n     * Factory method to create a Handle tracker. It is used to track a handle.\n     */\n    protected Tool createHandleTracker(DrawingView view, Handle handle) {\n        return new HandleTracker(view, handle);\n    }\n\n    /**\n     * Factory method to create a Drag tracker. It is used to drag a figure.\n     */\n    protected Tool createDragTracker(DrawingView view, Figure f) {\n        return new DragTracker(view, f);\n    }\n\n    /**\n     * Factory method to create an area tracker. It is used to select an\n     * area.\n     */\n    protected Tool createAreaTracker(DrawingView view) {\n        return new SelectAreaTracker(view);\n    }\n}",
  "subClasses": []
}