{
  "className": "ReportAction",
  "methodName": "productReport",
  "brief": "public String productReport() throws Exception{}",
  "methodSignature": "productReport()",
  "sourceCode": "public String productReport() throws Exception {\n\t\tlogger.info( \"Starting productReport()\" ); //f:log\n\n\t\tActionContext ac = ActionContext.getContext();\n\t\tServletContext sc = (ServletContext) ac.get( StrutsStatics.SERVLET_CONTEXT );\n\n\t\tJasperReport jasperReport = JasperCompileManager.compileReport( sc.getResourceAsStream( \"/WEB-INF/classes/ProductReport.xml\" ) ); //f:jr\n\n\t\tMap<String, Object> parameters = new HashMap<String, Object>(); //f:jr\n\t\tparameters.put( \"ReportTitle\", \"List of Products\" ); //f:jr\n\t\tparameters.put( \"DataFile\", new Date().toString() ); //f:jr\n\n\t\tSession sess = HibernateUtil.getSessionFactory().openSession(); //f:hibernate\n\t\tTransaction t = sess.beginTransaction(); //f:hibernate\n\n\t\tCriteria criteria = sess.createCriteria( Product.class ); //f:hibernate\n\n\t\tcriteria.setProjection( Projections.projectionList().add( Projections.property( \"id\" ) ).add( Projections.property( \"name\" ) ).add( Projections.property( \"price\" ) ) ); //f:hibernate\n\n\t\t\n\t\t@SuppressWarnings(\"unchecked\")\n\t\tList<Object[]> l = (List<Object[]>) criteria.list(); //f:hibernate\n\n\t\tt.commit(); //f:hibernate\n\t\tsess.close(); //f:hibernate\n\n\t\tHibernateQueryResultDataSource ds = new HibernateQueryResultDataSource(l, new String[] { \"Id\", \"Name\", \"Price\" }); //f:jr\n\n\t\tJasperPrint jasperPrint = JasperFillManager.fillReport( jasperReport, parameters, ds ); //f:jr\n\n\t\tbyte b[] = JasperExportManager.exportReportToPdf( jasperPrint ); //f:jr\n\n\t\tthis.inputStream = new ByteArrayInputStream( b );\n\n\t\tlogger.info( \"Finishing productReport()\" ); //f:log\n\t\treturn \"download\";\n\t}",
  "useField": true,
  "isConstructor": false,
  "isGetSet": false,
  "isPublic": true,
  "isBoolean": false,
  "isAbstract": false,
  "parameters": [],
  "dependentMethods": {
    "java.util.Map": [
      "put(K, V)"
    ],
    "java.util.Date": [
      "toString()"
    ],
    "classes.HibernateUtil": [
      "getSessionFactory()"
    ]
  },
  "full_method_info": "public String productReport() throws Exception {\n    // f:log\n    logger.info(\"Starting productReport()\");\n    ActionContext ac = ActionContext.getContext();\n    ServletContext sc = (ServletContext) ac.get(StrutsStatics.SERVLET_CONTEXT);\n    // f:jr\n    JasperReport jasperReport = JasperCompileManager.compileReport(sc.getResourceAsStream(\"/WEB-INF/classes/ProductReport.xml\"));\n    // f:jr\n    Map<String, Object> parameters = new HashMap<String, Object>();\n    // f:jr\n    parameters.put(\"ReportTitle\", \"List of Products\");\n    // f:jr\n    parameters.put(\"DataFile\", new Date().toString());\n    // f:hibernate\n    Session sess = HibernateUtil.getSessionFactory().openSession();\n    // f:hibernate\n    Transaction t = sess.beginTransaction();\n    // f:hibernate\n    Criteria criteria = sess.createCriteria(Product.class);\n    // f:hibernate\n    criteria.setProjection(Projections.projectionList().add(Projections.property(\"id\")).add(Projections.property(\"name\")).add(Projections.property(\"price\")));\n    @SuppressWarnings(\"unchecked\")\n    List<Object[]> // f:hibernate\n    l = (List<Object[]>) criteria.list();\n    // f:hibernate\n    t.commit();\n    // f:hibernate\n    sess.close();\n    // f:jr\n    HibernateQueryResultDataSource ds = new HibernateQueryResultDataSource(l, new String[] { \"Id\", \"Name\", \"Price\" });\n    // f:jr\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, ds);\n    // f:jr\n    byte[] b = JasperExportManager.exportReportToPdf(jasperPrint);\n    this.inputStream = new ByteArrayInputStream(b);\n    // f:log\n    logger.info(\"Finishing productReport()\");\n    return \"download\";\n}",
  "method_comment": "",
  "method_annotation": ""
}