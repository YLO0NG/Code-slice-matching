{
  "targetClass": "ca.ualberta.cs.serl.wikidev.RelationshipMiner",
  "targetMethod": "relateChangeSetToTicket(ChangeSet)",
  "dependentFields": {
    "ca.ualberta.cs.serl.wikidev.RelationshipMiner": "private Set<Project> projectsChanged;\nprivate Set<IArtifact> artifactsChanged;\nprivate Set<User> usersChanged;\nprivate IArtifact sourceArtifact;\nprivate Project project;\nprivate ArrayList<Document> documents;\nprivate ArrayList<IArtifact> artifacts;",
    "ca.ualberta.cs.serl.wikidev.Project": "private int projectID;\nprivate String projectName;\nprivate Set<User> developers;\nprivate Set<User> managers;\nprivate Set<User> users;\nprivate Set<IArtifact> relatedArtifacts;\nprivate Set<String> classNames;\nprivate Set<Wiki> wikis;\nprivate Set<Ticket> tickets;\nprivate Set<Message> messages;\nprivate Set<ChangeSet> changesets;\nprivate int system;",
    "ca.ualberta.cs.serl.wikidev.artifacts.ChangeSet": "private int changeSetID;\nprivate int externalSystemID;\nprivate String comment;\nprivate String externalAuthorUserName;\nprivate int project;\nprivate int revision;\nprivate ArrayList<ChangeSetDetail> changesetDetails;",
    "ca.ualberta.cs.serl.wikidev.DataManager": "private static final String databaseDriver = \"com.mysql.jdbc.Driver\";\nprivate static final String databaseName = \"jdbc:mysql://hypatia.cs.ualberta.ca/wikidev_ucosp\";\nprivate static final String[] entityTypes = {\"wikidev_changesets\", \"wikidev_tickets\", \"mw_page\", \"wikidev_messages\"};\npublic static final long WEEK_INTERVAL_IN_MILLIS = 604800000;\nprivate static Connection conn;\nprivate static Statement statement;\npublic static Set<Integer> userIDs;\npublic static Set<User> users;\npublic static Set<String> usernames;\npublic static Set<Integer> projectIDs;\npublic static Set<Project> projects;\npublic static Set<String> artifactURLs;\npublic static Set<IArtifact> allArtifacts;\npublic static Set<String> classNames;\npublic static Set<SourceClass> classes;\npublic static HashMap<Integer, Integer> ticketids;\npublic static Set<Ticket> tickets;\npublic static Set<Integer> systems;\npublic static Set<ChangeSet> changesets;\npublic static Set<Integer> commBuildingIDs;\npublic static Set<CommunicationBuildingData> commBuildings;\npublic static Set<Integer> fileBuildingIDs;\npublic static Set<FileBuildingData> fileBuildings;"
  },
  "dependentMethods": {
    "ca.ualberta.cs.serl.wikidev.RelationshipMiner": "private void relateArtifacts(IArtifact artifact1, IArtifact artifact2, double value, String word){}",
    "ca.ualberta.cs.serl.wikidev.Project": "public int getProjectID(){}",
    "ca.ualberta.cs.serl.wikidev.artifacts.ChangeSet": "public int getExternalSystemID(){}\npublic String getComment(){}",
    "ca.ualberta.cs.serl.wikidev.DataManager": "public static Project getProjectByExternalSystem(int system) throws SQLException{}\npublic static Ticket getTicketByDrID(int project, int ticketid) throws SQLException{}"
  },
  "dependentMethodBodies": {
    "ca.ualberta.cs.serl.wikidev.RelationshipMiner": "private void relateArtifacts(IArtifact artifact1, IArtifact artifact2, double value, String word) {\n\t\tartifact1.addDirectlyRelatedArtifact(artifact2, value, word);\n\t\tartifactsChanged.add(artifact1);\n\t\tnotifyUsers(artifact1, artifact2);\n\t\tartifact2.addDirectlyRelatedArtifact(artifact1, value, word);\n\t\tartifactsChanged.add(artifact2);\n\t\tnotifyUsers(artifact2, artifact1);\n\t\t//calculateTransitiveRelationship(artifact1, artifact2);\n\t}",
    "ca.ualberta.cs.serl.wikidev.Project": "* @return\n\t * @uml.property  name=\"projectID\"\n\t \npublic int getProjectID() {\n\t\treturn projectID;\n\t}",
    "ca.ualberta.cs.serl.wikidev.artifacts.ChangeSet": "* @return\n\t * @uml.property  name=\"externalSystemID\"\n\t \npublic int getExternalSystemID() {\n\t\treturn externalSystemID;\n\t}\n\n\t * @return\n\t * @uml.property  name=\"comment\"\n\t \npublic String getComment() {\n\t\treturn comment;\n\t}",
    "ca.ualberta.cs.serl.wikidev.DataManager": "public static Project getProjectByExternalSystem(int system) throws SQLException {\n    \tProject aProject = null;\n    \tint projectid = 0;\n    \tif (!systems.contains(system)) {\n\t\t\tString sqlStmt = QueryBuilder.selectProjectIDByExternalSystem(system);\n\t\t\tResultSet res = null;\n\t\t\tres = statement.executeQuery(sqlStmt);\n\t\t\twhile (res.next()) {\n\t\t\t\tprojectid = res.getInt(\"project\");\n\t\t\t}\n\t\t\tif (res != null)\n\t\t\t\tres.close();\n\t\t\taProject = getProjectByID(projectid);\n\t\t\taProject.setUsers(getProjectUsers(projectid));\n\t\t\taProject.setSystem(system);\n\t    \tprojects.add(aProject);\n\t\t\tprojectIDs.add(aProject.getProjectID());\n\t\t\tsystems.add(system);\n\t\t}\n    \telse {\n    \t\tfor(Project project : projects) {\n    \t\t\tif(project.getSystem() == system) {\n    \t\t\t\taProject = project;\n    \t\t\t}\n    \t\t}\n    \t}\n    \treturn aProject;\n    }\npublic static Ticket getTicketByDrID(int project, int ticketid) throws SQLException {\n    \tTicket ticket = null;\n    \tif (!ticketids.containsKey(ticketid) || ticketids.get(ticketid) != null) {\n\t\t\tString sqlStmt = QueryBuilder.selectTicketByDrID(ticketid, project);\n\t\t\tResultSet res = null;\n\t\t\tres = statement.executeQuery(sqlStmt);\n\t\t\twhile (res.next()) {\n\t\t\t\tticket = new Ticket(res.getTimestamp(\"created\"), res\n\t\t\t\t\t\t.getString(\"description\"), res\n\t\t\t\t\t\t.getTimestamp(\"last_modified\"), res.getString(\"owner_name\"), res.getString(\"reporter\"), res.getString(\"summary\"),\n\t\t\t\t\t\tres.getInt(\"id\"), res.getInt(\"project_id\"), res.getInt(\"project_ticket_id\"), res.getString(\"priority\"));\n\n\t\t\t}\n\t\t\tif (res != null)\n\t\t\t\tres.close();\n\t\t\tticket.setOwner(getUserByUserName(ticket.getOwnerName()));\n\t\t\tticket.setReporter(getUserByUserName(ticket.getReporterName()));\n\t\t\tticket.setTicketChanges(getTicketChangesByTicketID(ticket\n\t\t\t\t\t.getTicketID()));\n\t\t\tticket.setProject(getProjectByID(ticket.getProjectID()));\n\t\t\tticketids.put(ticket.getDr_id(), ticket.getProjectID());\n\t\t\tallArtifacts.add(ticket);\n\t\t}\n    \telse {\n    \t\tfor(Ticket aTicket : tickets) {\n    \t\t\tif(aTicket.getDr_id() == ticketid && aTicket.getProjectID() == project) {\n    \t\t\t\tticket = aTicket;\n    \t\t\t}\n    \t\t}\n    \t}\n    \treturn ticket;\n    }"
  }
}