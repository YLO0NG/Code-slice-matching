{
  "className": "RelationshipMiner",
  "methodName": "getRelationships",
  "brief": "public void getRelationships() throws SQLException{}",
  "methodSignature": "getRelationships()",
  "sourceCode": "public void getRelationships() throws SQLException {\n\t\tArrayList<String> buffers = new ArrayList<String>();\n\t\tfor(IArtifact artifact : artifacts) {\n\t\t\t\n\t\t\tif(artifact instanceof Ticket) {\n\t\t\t\tTextParser parser = new TextParser();\n\t\t\t\tTicket ticket = (Ticket)artifact;\n\t\t\t\tparser.parseTextInWords(ticket.getDesription().toLowerCase());\n\t\t\t\tparser.parseTextInWords(ticket.getSummary().toLowerCase());\n\t\t\t\tdocuments.add(new Document(parser.getWords(), ticket.toString()));\n\t\t\t\tticket.setDocument(new Document(parser.getWords(), ticket.toString()));\n\t\t\t}\n\t\t\telse if(artifact instanceof ChangeSet) {\n\t\t\t\tTextParser parser = new TextParser();\n\t\t\t\tChangeSet changeset = (ChangeSet)artifact;\n\t\t\t\t//relateChangeSetToTicket(changeset);\n\t\t\t\tparser.parseTextInWords(changeset.getComment().toLowerCase());\n\t\t\t\tdocuments.add(new Document(parser.getWords(), changeset.toString()));\n\t\t\t\tchangeset.setDocument(new Document(parser.getWords(), changeset.toString()));\n\t\t\t}\n\t\t\telse if (artifact instanceof Message) {\n\t\t\t\tTextParser parser = new TextParser();\n\t\t\t\tMessage communication = (Message)artifact;\n\t\t\t\tparser.parseTextInWords(communication.getSubject().toLowerCase());\n\t\t\t\tparser.parseTextInWords(communication.getBody().toLowerCase());\n\t\t\t\tdocuments.add(new Document(parser.getWords(), communication.toString()));\n\t\t\t\tcommunication.setDocument(new Document(parser.getWords(), communication.toString()));\n\t\t\t}\n\t\t\telse if (artifact instanceof Wiki) {\n\t\t\t\tWiki wiki = (Wiki)artifact;\n\t\t\t\t\tTextParser parser = new TextParser();\n\t\t\t\t\tString text = \"\";\n\t\t\t\t\tfor (WikiRevision revision : wiki.getRevisions()) {\n\t\t\t\t\t\ttext += revision.getRev_text();\n\t\t\t\t\t}\n\t\t\t\t\tparser.parseTextInWords(text.toLowerCase());\n\t\t\t\t\tdocuments.add(new Document(parser.getWords(), wiki.toString()));\n\t\t\t\t\twiki.setDocument(new Document(parser.getWords(), wiki.toString()));\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(IArtifact artifact : artifacts) {\n\t\t\t\n\t\t\tif(artifact instanceof Ticket) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tTicket ticket = (Ticket)artifact;\n\t\t\t\tparser.parseTextInWords(ticket.getDesription().toLowerCase());\n\t\t\t\tparser.parseTextInWords(ticket.getSummary().toLowerCase());\n\t\t\t\tticket.getDocument().setTfidf(parser.calculateTFIDF());\n\t\t\t}\n\t\t\telse if(artifact instanceof ChangeSet) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tChangeSet changeset = (ChangeSet)artifact;\n\t\t\t\tparser.parseTextInWords(changeset.getComment().toLowerCase());\n\t\t\t\tchangeset.getDocument().setTfidf(parser.calculateTFIDF());\n\t\t\t}\n\t\t\telse if (artifact instanceof Message) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tMessage communication = (Message)artifact;\n\t\t\t\tparser.parseTextInWords(communication.getSubject().toLowerCase());\n\t\t\t\tparser.parseTextInWords(communication.getBody().toLowerCase());\n\t\t\t\tcommunication.getDocument().setTfidf(parser.calculateTFIDF());\n\t\t\t}\n\t\t\telse if (artifact instanceof Wiki) {\n\t\t\t\tWiki wiki = (Wiki)artifact;\n\t\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\t\tString text = \"\";\n\t\t\t\t\tfor (WikiRevision revision : wiki.getRevisions()) {\n\t\t\t\t\t\ttext += revision.getRev_text();\n\t\t\t\t\t}\n\t\t\t\t\tparser.parseTextInWords(text.toLowerCase());\n\t\t\t\t\twiki.getDocument().setTfidf(parser.calculateTFIDF());\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(IArtifact artifact : artifacts) {\n\t\t\tSystem.out.println(\"Relationships: \"+artifact.toString());\n\t\t\t\n\t\t\tsourceArtifact = artifact;\n\t\t\tproject = artifact.getProject();\n\t\t\tgetGenericRelationships(sourceArtifact);\n\t\t\tif(sourceArtifact instanceof Ticket) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tTicket ticket = (Ticket)sourceArtifact;\n\t\t\t\tparser.parseTextInWords(ticket.getDesription().toLowerCase());\n\t\t\t\tbuffers.add(ticket.getDesription().toLowerCase());\n\t\t\t\tparser.parseTextInWords(ticket.getSummary().toLowerCase());\n\t\t\t\tbuffers.add(ticket.getSummary().toLowerCase());\n\t\t\t\tmineRelationshipsFromText();\n\t\t\t\t/*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n\t\t\t}\n\t\t\telse if(sourceArtifact instanceof ChangeSet) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tChangeSet changeset = (ChangeSet)sourceArtifact;\n\t\t\t\t//relateChangeSetToTicket(changeset);\n\t\t\t\tparser.parseTextInWords(changeset.getComment().toLowerCase());\n\t\t\t\tbuffers.add(changeset.getComment().toLowerCase());\n\t\t\t\tmineRelationshipsFromText();\n\t\t\t\t/*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n\t\t\t\t\n\t\t\t}\n\t\t\telse if (sourceArtifact instanceof Message) {\n\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\tMessage communication = (Message)sourceArtifact;\n\t\t\t\tparser.parseTextInWords(communication.getSubject().toLowerCase());\n\t\t\t\tbuffers.add(communication.getSubject().toLowerCase());\n\t\t\t\tparser.parseTextInWords(communication.getBody().toLowerCase());\n\t\t\t\tbuffers.add(communication.getBody().toLowerCase());\n\t\t\t\tmineRelationshipsFromText();\n\t\t\t\t/*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n\t\t\t}\n\t\t\telse if (sourceArtifact instanceof Wiki) {\n\t\t\t\tWiki wiki = (Wiki)sourceArtifact;\n\t\t\t\t\tTextParser parser = new TextParser(documents);\n\t\t\t\t\tString text = \"\";\n\t\t\t\t\tfor (WikiRevision revision : wiki.getRevisions()) {\n\t\t\t\t\t\ttext += revision.getRev_text();\n\t\t\t\t\t}\n\t\t\t\t\tparser.parseTextInWords(text.toLowerCase());\n\t\t\t\t\tbuffers.add(text.toLowerCase());\n\t\t\t\t\tmineRelationshipsFromText();\n\t\t\t}\n\t\t}\n\t\t//saveResults(buffers, project.toString());\n\t\t//System.out.println(\"done\");\n\t}",
  "useField": true,
  "isConstructor": false,
  "isGetSet": true,
  "isPublic": true,
  "isBoolean": false,
  "isAbstract": false,
  "parameters": [],
  "dependentMethods": {
    "ca.ualberta.cs.serl.wikidev.TextParser": [
      "calculateTFIDF()",
      "parseTextInWords(String)",
      "getWords()"
    ],
    "java.lang.String": [
      "toLowerCase()"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.Ticket": [
      "toString()",
      "getSummary()",
      "getDesription()"
    ],
    "java.util.ArrayList": [
      "add(E)"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.IArtifact": [
      "getProject()",
      "toString()",
      "setDocument(Document)",
      "getDocument()"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.ChangeSet": [
      "toString()",
      "getComment()"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.Message": [
      "getSubject()",
      "getBody()",
      "toString()"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.Wiki": [
      "getRevisions()",
      "toString()"
    ],
    "ca.ualberta.cs.serl.wikidev.artifacts.WikiRevision": [
      "getRev_text()"
    ],
    "ca.ualberta.cs.serl.wikidev.Document": [
      "setTfidf(Double>)"
    ],
    "java.io.PrintStream": [
      "println(String)"
    ],
    "ca.ualberta.cs.serl.wikidev.RelationshipMiner": [
      "getGenericRelationships(IArtifact)",
      "mineRelationshipsFromText()"
    ]
  },
  "full_method_info": "public void getRelationships() throws SQLException {\n    ArrayList<String> buffers = new ArrayList<String>();\n    for (IArtifact artifact : artifacts) {\n        if (artifact instanceof Ticket) {\n            TextParser parser = new TextParser();\n            Ticket ticket = (Ticket) artifact;\n            parser.parseTextInWords(ticket.getDesription().toLowerCase());\n            parser.parseTextInWords(ticket.getSummary().toLowerCase());\n            documents.add(new Document(parser.getWords(), ticket.toString()));\n            ticket.setDocument(new Document(parser.getWords(), ticket.toString()));\n        } else if (artifact instanceof ChangeSet) {\n            TextParser parser = new TextParser();\n            ChangeSet changeset = (ChangeSet) artifact;\n            // relateChangeSetToTicket(changeset);\n            parser.parseTextInWords(changeset.getComment().toLowerCase());\n            documents.add(new Document(parser.getWords(), changeset.toString()));\n            changeset.setDocument(new Document(parser.getWords(), changeset.toString()));\n        } else if (artifact instanceof Message) {\n            TextParser parser = new TextParser();\n            Message communication = (Message) artifact;\n            parser.parseTextInWords(communication.getSubject().toLowerCase());\n            parser.parseTextInWords(communication.getBody().toLowerCase());\n            documents.add(new Document(parser.getWords(), communication.toString()));\n            communication.setDocument(new Document(parser.getWords(), communication.toString()));\n        } else if (artifact instanceof Wiki) {\n            Wiki wiki = (Wiki) artifact;\n            TextParser parser = new TextParser();\n            String text = \"\";\n            for (WikiRevision revision : wiki.getRevisions()) {\n                text += revision.getRev_text();\n            }\n            parser.parseTextInWords(text.toLowerCase());\n            documents.add(new Document(parser.getWords(), wiki.toString()));\n            wiki.setDocument(new Document(parser.getWords(), wiki.toString()));\n        }\n    }\n    for (IArtifact artifact : artifacts) {\n        if (artifact instanceof Ticket) {\n            TextParser parser = new TextParser(documents);\n            Ticket ticket = (Ticket) artifact;\n            parser.parseTextInWords(ticket.getDesription().toLowerCase());\n            parser.parseTextInWords(ticket.getSummary().toLowerCase());\n            ticket.getDocument().setTfidf(parser.calculateTFIDF());\n        } else if (artifact instanceof ChangeSet) {\n            TextParser parser = new TextParser(documents);\n            ChangeSet changeset = (ChangeSet) artifact;\n            parser.parseTextInWords(changeset.getComment().toLowerCase());\n            changeset.getDocument().setTfidf(parser.calculateTFIDF());\n        } else if (artifact instanceof Message) {\n            TextParser parser = new TextParser(documents);\n            Message communication = (Message) artifact;\n            parser.parseTextInWords(communication.getSubject().toLowerCase());\n            parser.parseTextInWords(communication.getBody().toLowerCase());\n            communication.getDocument().setTfidf(parser.calculateTFIDF());\n        } else if (artifact instanceof Wiki) {\n            Wiki wiki = (Wiki) artifact;\n            TextParser parser = new TextParser(documents);\n            String text = \"\";\n            for (WikiRevision revision : wiki.getRevisions()) {\n                text += revision.getRev_text();\n            }\n            parser.parseTextInWords(text.toLowerCase());\n            wiki.getDocument().setTfidf(parser.calculateTFIDF());\n        }\n    }\n    for (IArtifact artifact : artifacts) {\n        System.out.println(\"Relationships: \" + artifact.toString());\n        sourceArtifact = artifact;\n        project = artifact.getProject();\n        getGenericRelationships(sourceArtifact);\n        if (sourceArtifact instanceof Ticket) {\n            TextParser parser = new TextParser(documents);\n            Ticket ticket = (Ticket) sourceArtifact;\n            parser.parseTextInWords(ticket.getDesription().toLowerCase());\n            buffers.add(ticket.getDesription().toLowerCase());\n            parser.parseTextInWords(ticket.getSummary().toLowerCase());\n            buffers.add(ticket.getSummary().toLowerCase());\n            mineRelationshipsFromText();\n            /*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n        } else if (sourceArtifact instanceof ChangeSet) {\n            TextParser parser = new TextParser(documents);\n            ChangeSet changeset = (ChangeSet) sourceArtifact;\n            // relateChangeSetToTicket(changeset);\n            parser.parseTextInWords(changeset.getComment().toLowerCase());\n            buffers.add(changeset.getComment().toLowerCase());\n            mineRelationshipsFromText();\n            /*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n        } else if (sourceArtifact instanceof Message) {\n            TextParser parser = new TextParser(documents);\n            Message communication = (Message) sourceArtifact;\n            parser.parseTextInWords(communication.getSubject().toLowerCase());\n            buffers.add(communication.getSubject().toLowerCase());\n            parser.parseTextInWords(communication.getBody().toLowerCase());\n            buffers.add(communication.getBody().toLowerCase());\n            mineRelationshipsFromText();\n            /*for(URL url : parser.getUrls()) {\n\t\t\t\t\tmineRelationshipsFromURL(url);\n\t\t\t\t}*/\n        } else if (sourceArtifact instanceof Wiki) {\n            Wiki wiki = (Wiki) sourceArtifact;\n            TextParser parser = new TextParser(documents);\n            String text = \"\";\n            for (WikiRevision revision : wiki.getRevisions()) {\n                text += revision.getRev_text();\n            }\n            parser.parseTextInWords(text.toLowerCase());\n            buffers.add(text.toLowerCase());\n            mineRelationshipsFromText();\n        }\n    }\n    // saveResults(buffers, project.toString());\n    // System.out.println(\"done\");\n}",
  "method_comment": "",
  "method_annotation": ""
}