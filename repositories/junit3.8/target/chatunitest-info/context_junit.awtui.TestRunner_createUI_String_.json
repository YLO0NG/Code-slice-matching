{
  "targetClass": "junit.awtui.TestRunner",
  "targetMethod": "createUI(String)",
  "dependentFields": {
    "junit.framework.Test": "",
    "junit.framework.TestResult": "protected Vector fFailures;\nprotected Vector fErrors;\nprotected Vector fListeners;\nprotected int fRunTests;\nprivate boolean fStop;",
    "junit.runner.BaseTestRunner": "public static final String SUITE_METHODNAME= \"suite\";\nprivate static Properties fPreferences;\nstatic int fgMaxMessageLength= 500;\nstatic boolean fgFilterStack= true;\nboolean fLoading= true;",
    "junit.awtui.TestRunner": "protected Frame fFrame;\nprotected Vector fExceptions;\nprotected Vector fFailedTests;\nprotected Thread fRunner;\nprotected TestResult fTestResult;\nprotected TextArea fTraceArea;\nprotected TextField fSuiteField;\nprotected Button fRun;\nprotected ProgressBar fProgressIndicator;\nprotected List fFailureList;\nprotected Logo fLogo;\nprotected Label fNumberOfErrors;\nprotected Label fNumberOfFailures;\nprotected Label fNumberOfRuns;\nprotected Button fQuitButton;\nprotected Button fRerunButton;\nprotected TextField fStatusLine;\nprotected Checkbox fUseLoadingRunner;\nprotected static Font PLAIN_FONT= new Font(\"dialog\", Font.PLAIN, 12);\nprivate static final int GAP= 4;\nprivate static final String SUITE_METHODNAME= \"suite\";",
    "junit.awtui.ProgressBar": "public boolean fError= false;\npublic int fTotal= 0;\npublic int fProgress= 0;\npublic int fProgressX= 0;"
  },
  "dependentMethods": {
    "junit.framework.Test": "public abstract void run(TestResult result);\npublic abstract int countTestCases();",
    "junit.framework.TestResult": "public synchronized void stop(){}\npublic synchronized boolean shouldStop(){}",
    "junit.runner.BaseTestRunner": "public Test getTest(String suiteClassName){}\npublic void setLoading(boolean enable){}\nprotected boolean useReloadingTestSuiteLoader(){}\npublic static boolean inVAJava(){}\npublic String elapsedTimeAsString(long runTime){}",
    "junit.awtui.TestRunner": "private void showStatus(String status){}\nprotected void reset(){}\npublic void rerun(){}\nprotected void createMenus(MenuBar mb){}\nprotected void addGrid(Panel p, Component co, int x, int y, int w, int fill, double wx, int anchor){}\npublic void failureSelected(){}\nprivate boolean shouldReload(){}\nprotected TestResult createTestResult(){}\nsynchronized public void runSuite(){}\nprotected Panel createCounterPanel(){}\nprivate void showInfo(String message){}\nprivate Image loadFrameIcon(){}",
    "junit.awtui.ProgressBar": "public void start(int total){}"
  },
  "dependentMethodBodies": {
    "junit.framework.Test": "* Runs a test and collects its result in a TestResult instance.\r\n\t \npublic abstract void run(TestResult result);\n\r\n\t * Counts the number of test cases that will be run by this test.\r\n\t \npublic abstract int countTestCases();",
    "junit.framework.TestResult": "* Marks that the test run should stop.\r\n\t \npublic synchronized void stop() {\r\n\t\tfStop= true;\r\n\t}\n\r\n\t * Checks whether the test run should stop\r\n\t \npublic synchronized boolean shouldStop() {\r\n\t\treturn fStop;\r\n\t}",
    "junit.runner.BaseTestRunner": "* Returns the Test corresponding to the given suite. This is\r\n\t * a template method, subclasses override runFailed(), clearStatus().\r\n\t \npublic Test getTest(String suiteClassName) {\r\n\t\tif (suiteClassName.length() <= 0) {\r\n\t\t\tclearStatus();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tClass testClass= null;\r\n\t\ttry {\r\n\t\t\ttestClass= loadSuiteClass(suiteClassName);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tString clazz= e.getMessage();\r\n\t\t\tif (clazz == null)\r\n\t\t\t\tclazz= suiteClassName;\r\n\t\t\trunFailed(\"Class not found \\\"\"+clazz+\"\\\"\");\r\n\t\t\treturn null;\r\n\t\t} catch(Exception e) {\r\n\t\t\trunFailed(\"Error: \"+e.toString());\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tMethod suiteMethod= null;\r\n\t\ttry {\r\n\t\t\tsuiteMethod= testClass.getMethod(SUITE_METHODNAME, new Class[0]);\r\n\t \t} catch(Exception e) {\r\n\t \t\t// try to extract a test suite automatically\r\n\t\t\tclearStatus();\r\n\t\t\treturn new TestSuite(testClass);\r\n\t\t}\r\n\t\tif (! Modifier.isStatic(suiteMethod.getModifiers())) {\r\n\t\t\trunFailed(\"Suite() method must be static\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tTest test= null;\r\n\t\ttry {\r\n\t\t\ttest= (Test)suiteMethod.invoke(null, new Class[0]); // static method\r\n\t\t\tif (test == null)\r\n\t\t\t\treturn test;\r\n\t\t}\r\n\t\tcatch (InvocationTargetException e) {\r\n\t\t\trunFailed(\"Failed to invoke suite():\" + e.getTargetException().toString());\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tcatch (IllegalAccessException e) {\r\n\t\t\trunFailed(\"Failed to invoke suite():\" + e.toString());\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tclearStatus();\r\n\t\treturn test;\r\n\t}\n\r\n\t * Sets the loading behaviour of the test runner\r\n\t \npublic void setLoading(boolean enable) {\r\n\t\tfLoading= enable;\r\n\t}\nprotected boolean useReloadingTestSuiteLoader() {\r\n\t\treturn getPreference(\"loading\").equals(\"true\") && !inVAJava() && fLoading;\r\n\t}\npublic static boolean inVAJava() {\r\n\t\ttry {\r\n\t\t\tClass.forName(\"com.ibm.uvm.tools.DebugSupport\");\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\n\r\n\t * Returns the formatted string of the elapsed time.\r\n\t \npublic String elapsedTimeAsString(long runTime) {\r\n\t\treturn NumberFormat.getInstance().format((double)runTime/1000);\r\n\t}",
    "junit.awtui.TestRunner": "private void showStatus(String status) {\r\n\t\tfStatusLine.setFont(PLAIN_FONT);\r\n\t\tfStatusLine.setForeground(Color.red);\r\n\t\tfStatusLine.setText(status);\r\n\t}\nprotected void reset() {\r\n\t\tsetLabelValue(fNumberOfErrors, 0);\r\n\t\tsetLabelValue(fNumberOfFailures, 0);\r\n\t\tsetLabelValue(fNumberOfRuns, 0);\r\n\t\t/*{*/fProgressIndicator.fProgressX= 1;\r\n\t\tfProgressIndicator.fProgress= 0;\r\n\t\tfProgressIndicator.fError= false;\r\n\t\tfProgressIndicator.paint(fProgressIndicator.getGraphics());/*}*/\r\n\t\tfRerunButton.setEnabled(false);\r\n\t\tfFailureList.removeAll();\r\n\t\tfExceptions= new Vector(10);\r\n\t\tfFailedTests= new Vector(10);\r\n\t\tfTraceArea.setText(\"\");\r\n\r\n\t}\npublic void rerun() {\r\n\t\tint index= fFailureList.getSelectedIndex();\r\n\t\tif (index == -1)\r\n\t\t\treturn;\r\n\r\n\t\tTest test= (Test)fFailedTests.elementAt(index);\r\n\t\trerunTest(test);\r\n\t}\nprotected void createMenus(MenuBar mb) {\r\n\t\tmb.add(createJUnitMenu());\r\n\t}\nprotected void addGrid(Panel p, Component co, int x, int y, int w, int fill, double wx, int anchor) {\r\n\t\tGridBagConstraints c= new GridBagConstraints();\r\n\t\tc.gridx= x; c.gridy= y;\r\n\t\tc.gridwidth= w;\r\n\t\tc.anchor= anchor;\r\n\t\tc.weightx= wx;\r\n\t\tc.fill= fill;\r\n\t\tif (fill == GridBagConstraints.BOTH || fill == GridBagConstraints.VERTICAL)\r\n\t\t\tc.weighty= 1.0;\r\n\t\tc.insets= new Insets(y == 0 ? GAP : 0, x == 0 ? GAP : 0, GAP, GAP);\r\n\t\tp.add(co, c);\r\n\t}\npublic void failureSelected() {\r\n\t\tfRerunButton.setEnabled(isErrorSelected());\r\n\t\tshowErrorTrace();\r\n\t}\nprivate boolean shouldReload() {\r\n\t\treturn !inVAJava() && fUseLoadingRunner.getState();\r\n\t}\nprotected TestResult createTestResult() {\r\n\t\treturn new TestResult();\r\n\t}\nsynchronized public void runSuite() {\r\n\t\tif (fRunner != null && fTestResult != null) {\r\n\t\t\tfTestResult.stop();\r\n\t\t} else {\r\n\t\t\tsetLoading(shouldReload());\r\n\t\t\tfRun.setLabel(\"Stop\");\r\n\t\t\tshowInfo(\"Initializing...\");\r\n\t\t\treset();\r\n\r\n\t\t\tshowInfo(\"Load Test Case...\");\r\n\r\n\t\t\tfinal Test testSuite= getTest(fSuiteField.getText());\r\n\t\t\tif (testSuite != null) {\r\n\t\t\t\tfRunner= new Thread() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tfTestResult= createTestResult();\r\n\t\t\t\t\t\tfTestResult.addListener(TestRunner.this);\r\n\t\t\t\t\t\tfProgressIndicator.start(testSuite.countTestCases());\r\n\t\t\t\t\t\tshowInfo(\"Running...\");\r\n\r\n\t\t\t\t\t\tlong startTime= System.currentTimeMillis();\r\n\t\t\t\t\t\ttestSuite.run(fTestResult);\r\n\r\n\t\t\t\t\t\tif (fTestResult.shouldStop()) {\r\n\t\t\t\t\t\t\tshowStatus(\"Stopped\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlong endTime= System.currentTimeMillis();\r\n\t\t\t\t\t\t\tlong runTime= endTime-startTime;\r\n\t\t\t\t\t\t\tshowInfo(\"Finished: \" + elapsedTimeAsString(runTime) + \" seconds\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfTestResult= null;\r\n\t\t\t\t\t\tfRun.setLabel(\"Run\");\r\n\t\t\t\t\t\tfRunner= null;\r\n\t\t\t\t\t\tSystem.gc();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tfRunner.start();\r\n\t\t\t}\r\n\t\t}\r\n\t}\nprotected Panel createCounterPanel() {\r\n\t\tPanel numbersPanel= new Panel(new GridBagLayout());\r\n\t\t/*{*/GridBagConstraints constraints= new GridBagConstraints();\r\n\t\tconstraints.gridx= 0;\r\n\t\tconstraints.gridy= 0;\r\n\t\tconstraints.gridwidth= 1;\r\n\t\tconstraints.gridheight= 1;\r\n\t\tconstraints.weightx= 0.0;\r\n\t\tconstraints.weighty= 0.0;\r\n\t\tconstraints.anchor= GridBagConstraints.CENTER;\r\n\t\tconstraints.fill= GridBagConstraints.NONE;\r\n\t\tconstraints.insets= new Insets(0, 0, 0, 0);\r\n\t\tnumbersPanel.add(new Label(\"Runs:\"), constraints);/*}*/\t\r\n\t\taddToCounterPanel(\r\n\t\t\tnumbersPanel,\r\n\t\t\tfNumberOfRuns, \r\n          \t1, 0, 1, 1, 0.33, 0.0,\r\n          \tGridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL,\r\n          \tnew Insets(0, 8, 0, 40)\r\n\t\t);\r\n\t\taddToCounterPanel(\r\n\t\t\tnumbersPanel,\r\n\t\t\tnew Label(\"Errors:\"),\r\n          \t2, 0, 1, 1, 0.0, 0.0,\r\n          \tGridBagConstraints.CENTER, GridBagConstraints.NONE,\r\n          \tnew Insets(0, 8, 0, 0)\r\n\t\t);\r\n\t\taddToCounterPanel(\r\n\t\t\tnumbersPanel,\r\n\t\t\tfNumberOfErrors,\r\n          \t3, 0, 1, 1, 0.33, 0.0,\r\n          \tGridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL,\r\n          \tnew Insets(0, 8, 0, 40)\r\n\t\t);\r\n\t\taddToCounterPanel(\r\n\t\t\tnumbersPanel,\r\n\t\t\tnew Label(\"Failures:\"),\r\n          \t4, 0, 1, 1, 0.0, 0.0,\r\n          \tGridBagConstraints.CENTER, GridBagConstraints.NONE,\r\n          \tnew Insets(0, 8, 0, 0)\r\n\t\t);\t\r\n\t\taddToCounterPanel(\r\n\t\t\tnumbersPanel,\r\n\t\t\tfNumberOfFailures,\r\n          \t5, 0, 1, 1, 0.33, 0.0,\r\n          \tGridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL,\r\n          \tnew Insets(0, 8, 0, 0) \r\n\t\t);\r\n\t\treturn numbersPanel;\r\n\t}\nprivate void showInfo(String message) {\r\n\t\tfStatusLine.setFont(PLAIN_FONT);\r\n\t\tfStatusLine.setForeground(Color.black);\r\n\t\tfStatusLine.setText(message);\r\n\t}\nprivate Image loadFrameIcon() {\r\n\t\tToolkit toolkit= Toolkit.getDefaultToolkit();\r\n\t\ttry {\r\n\t\t\tjava.net.URL url= BaseTestRunner.class.getResource(\"smalllogo.gif\");\r\n\t\t\treturn toolkit.createImage((ImageProducer) url.getContent());\r\n\t\t} catch (Exception ex) {\r\n\t\t}\r\n\t\treturn null;\r\n\t}",
    "junit.awtui.ProgressBar": "public void start(int total) {\r\n\t\tfTotal= total;\r\n\t\treset();\r\n\t}"
  }
}